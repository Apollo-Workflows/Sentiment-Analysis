<Workflow name="SENTIM"><Array as="dataIns"><DataIns name="all_tweets" type="collection" source="all_tweets"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="desired_num_batches" type="number" source="desired_num_batches"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="inference_type" type="string" source="inference_type"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="analysis_json" type="string" source="sentim-reduce/analysis_json"><Array as="properties"/><Array as="constraints"/></DataOuts><DataOuts name="churn" type="number" source="sentim-reduce/churn"><Array as="properties"/><Array as="constraints"/></DataOuts></Array><Array as="body"><Cell id="0"/><Cell id="1" parent="0"/><Cell id="2" style="fn" type="AtomicFunction" parent="1" vertex="1"><AtomicFunction name="sentim-batch" type="collection" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:eu-central-1:735406098573:function:sentim-batch"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="all_tweets" type="collection" source="SENTIM/all_tweets"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="desired_num_batches" type="number" source="SENTIM/desired_num_batches"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="batches" type="collection"><Array as="properties"/><Array as="constraints"/></DataOuts><DataOuts name="num_batches" type="number"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="164" y="92" width="88" height="32" as="geometry"/></Cell><Cell id="3" value="Start" style="start" type="start" parent="1" vertex="1"><mxGeometry x="188" y="20" width="40" height="40" as="geometry"/></Cell><Cell id="7" style="parallelFor" type="ParallelFor" parent="1" vertex="1"><ParallelFor name="ParallelFor" as="value"><Array as="properties"/><Array as="constraints"/><Array as="dataIns"><DataIns name="tweets" type="collection" source="sentim-batch/batches"><Array as="properties"/><Array as="constraints"><Object name="distribution" value="BLOCK(1)"/></Array></DataIns><DataIns name="inference_type" type="string" source="SENTIM/inference_type"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="InferenceOutputs" type="collection" source="IfThenElse/annotated_tweets"><Array as="properties"/><Array as="constraints"/></DataOuts></Array><LoopCounter type="number" to="sentim-batch/num_batches" step="1" as="loopCounter"/></ParallelFor><mxGeometry x="80" y="176" width="272" height="248" as="geometry"/></Cell><Cell id="9" style="fn" type="AtomicFunction" parent="7" vertex="1"><AtomicFunction name="sentim-preprocess" type="Collection" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:eu-central-1:735406098573:function:sentim-preprocess"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="tweets" type="collection" source="ParallelFor/tweets"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="tokenized_tweets" type="collection"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="95.998125" y="24" width="88" height="32" as="geometry"/></Cell><Cell id="12" style="fn" type="AtomicFunction" parent="7" vertex="1"><AtomicFunction name="sentim-inference-textblob" type="Collection" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:eu-central-1:735406098573:function:sentim-inference-textblob"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="tokenized_tweets" type="collection" source="sentim-preprocess/tokenized_tweets"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="annotated_tweets" type="collection"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="24" y="184" width="88" height="32" as="geometry"/></Cell><Cell id="28" style="cond" type="IfThenElse" vertex="1" parent="7"><IfThenElse name="IfThenElse" as="value"><Array as="properties"/><Array as="constraints"/><Array as="dataIns"><DataIns name="tokenized_tweets" type="collection" source="sentim-preprocess/tokenized_tweets"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="annotated_tweets" type="collection" source="sentim-inference-textblob/annotated_tweets,sentim-inference/annotated_tweets"><Array as="properties"/><Array as="constraints"/></DataOuts></Array><CompositeCondition combinedWith="and" as="condition"><Array as="conditions"><Condition data1="ParallelFor/inference_type" data2="TENSORFLOW" operator="="/></Array></CompositeCondition></IfThenElse><mxGeometry x="112" y="108" width="44" height="44" as="geometry"/></Cell><Cell id="29" style="sourcePort=out;targetPort=in;" edge="1" parent="7" source="9" target="28"><mxGeometry relative="1" as="geometry"/></Cell><Cell id="30" style="fn" type="AtomicFunction" vertex="1" parent="7"><AtomicFunction name="sentim-inference" type="Collection" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:eu-central-1:735406098573:function:sentim-inference"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="tokenized_tweets" type="collection" source="sentim-preprocess/tokenized_tweets"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="annotated_tweets" type="collection"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="160" y="184" width="88" height="32" as="geometry"/></Cell><Cell id="31" value="then" style="sourcePort=then;targetPort=in;" edge="1" parent="7" source="28" target="30"><mxGeometry relative="1" as="geometry"/></Cell><Cell id="32" value="else" style="sourcePort=else;targetPort=in;" edge="1" parent="7" source="28" target="12"><mxGeometry relative="1" as="geometry"/></Cell><Cell id="10" value="End" style="end" type="end" parent="1" vertex="1"><mxGeometry x="200" y="524" width="40" height="40" as="geometry"/></Cell><Cell id="21" style="fn" type="AtomicFunction" parent="1" vertex="1"><AtomicFunction name="sentim-reduce" type="aType" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:eu-central-1:735406098573:function:sentim-reduce"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="InferenceOutputs" type="collection" source="ParallelFor/InferenceOutputs"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="analysis_json" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts><DataOuts name="churn" type="number"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="172" y="460" width="88" height="32" as="geometry"/></Cell><Cell id="4" style="sourcePort=out;targetPort=in;" parent="1" source="3" target="2" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"/></mxGeometry></Cell><Cell id="8" style="sourcePort=out;targetPort=in;" parent="1" source="2" target="7" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"/></mxGeometry></Cell><Cell id="22" style="sourcePort=out;targetPort=in;" parent="1" source="7" target="21" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"/></mxGeometry></Cell><Cell id="23" style="sourcePort=out;targetPort=in;" parent="1" source="21" target="10" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"/></mxGeometry></Cell></Array></Workflow>